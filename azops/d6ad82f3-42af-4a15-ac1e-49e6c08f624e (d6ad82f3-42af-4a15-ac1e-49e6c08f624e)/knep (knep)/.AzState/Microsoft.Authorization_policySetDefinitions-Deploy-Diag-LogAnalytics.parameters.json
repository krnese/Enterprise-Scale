{
  "$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentParameters.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "input": {
      "value": {
        "Name": "Deploy-Diag-LogAnalytics",
        "PolicySetDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policySetDefinitions/Deploy-Diag-LogAnalytics",
        "Properties": {
          "Description": "This initiative configures application Azure resources to forward diagnostic logs and metrics to an Azure Log Analytics workspace.",
          "DisplayName": "Deploy-Diag-LogAnalytics",
          "Parameters": {
            "logAnalytics": {
              "metadata": {
                "description": "Select the Log Analytics workspace from dropdown list",
                "displayName": "Log Analytics workspace",
                "strongType": "omsWorkspace"
              },
              "type": "String"
            }
          },
          "PolicyDefinitionGroups": null,
          "PolicyDefinitions": [
            {
              "policyDefinitionReferenceId": "8371520105107391682",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-NIC",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16884783950990319329",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PowerBIEmbedded",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15003228384492580576",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-StreamAnalytics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "417944772875903806",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ExpressRoute",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17854069948878962585",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ACI",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5423394065928081427",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ACR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11320797822436198078",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VirtualNetwork",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17954549378051805614",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VM",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4607158392413595561",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VMSS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "18383936943011328131",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-VNetGW",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7343049417210083261",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AKS",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8028282106225674393",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Website",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "9630705755792585713",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AnalysisService",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "1255975391149192662",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventGridTopic",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14094862908818948401",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventGridSub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7247746275536496573",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-HDInsight",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2321265286941075557",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-RedisCache",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3321629468718219350",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Relay",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "18398345226080373449",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SignalR",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "498497002046773204",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-TrafficManager",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17461329960304943043",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-WebServerFarm",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14237509982254311844",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLMI",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "13499335899892602842",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Firewall",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16841567212397131548",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DataFactory",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11725258298872514099",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CosmosDB",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "13761700653890951376",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CDNEndpoints",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3559848101233278711",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-AA",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11495837359019654438",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PublicIP",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "5260466778003735595",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LoadBalancer",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4955153916430866102",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-NetworkSecurityGroups",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "3248274787844163437",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-KeyVault",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "13615781728728464320",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-CognitiveServices",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "888853102136247047",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DLAnalytics",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "4548909665223401507",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-DataLakeStore",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "9957045367526006910",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-EventHub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7921691655296603473",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-iotHub",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "14936698395691625638",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-TimeSeriesInsights",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "15864612995553283630",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LogicAppsWF",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16002343517376390689",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-RecoveryVault",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "8609038980958345379",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SearchServices",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2994798995986928618",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ServiceBus",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "17351580625604009868",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLDBs",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "2361622377474582060",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-SQLElasticPools",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "6693715771517364921",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-APIMgmt",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "7435189925115046539",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-ApplicationGateway",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "11483201632193374327",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-Batch",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "921348373752905453",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-MySQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "16722565976550531601",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-PostgreSQL",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "12668175370218626054",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-LogicAppsISE",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            },
            {
              "policyDefinitionReferenceId": "9137323269895479358",
              "policyDefinitionId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policyDefinitions/Deploy-Diagnostics-MlWorkspace",
              "parameters": {
                "logAnalytics": {
                  "value": "[parameters('logAnalytics')]"
                }
              }
            }
          ]
        },
        "ResourceId": "/providers/Microsoft.Management/managementGroups/knep/providers/Microsoft.Authorization/policySetDefinitions/Deploy-Diag-LogAnalytics",
        "ResourceName": "Deploy-Diag-LogAnalytics",
        "ResourceType": "Microsoft.Authorization/policySetDefinitions",
        "SubscriptionId": null
      }
    }
  }
}
